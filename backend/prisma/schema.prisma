// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


model Mech {
  id          String   @id @default(uuid())
  dbId        Int      @unique // DBID из CSV
  name        String   // Name/Model
  unitType    String   // Unit Type
  technology  String   // Technology
  chassis     String   // Chassis
  era         String   // Era
  year        Int      // Year
  rulesLevel  String   // Rules Level (Era)
  tonnage     Float    // Tonnage
  battleValue Int      // Battle Value
  pointValue  Int      // Point Value
  cost        Float?   // Cost
  rating      String?  // Rating
  designer    String?  // Designer
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("mechs")
}

model Period {
  id             Int      @id @default(autoincrement())
  name           String   @unique
  code           String   @unique
  startYear      Int
  endYear        Int?     // Может быть null для текущих периодов
  sortOrder      Int      @unique // Уникальный порядок сортировки
  description    String?  @db.Text
  imageUrl       String?  // Путь к изображению периода
  bannerUrl      String?  // Путь к баннеру периода
  isActive       Boolean  @default(true)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  // Связь с таблицей доступности мехов (будет добавлена позже)
  // mechAvailability MechAvailability[]

  @@map("periods")
}

model Faction {
  id             Int      @id @default(autoincrement())
  name           String   @unique
  code           String   @unique
  primaryColor   String?  // HEX код основного цвета
  secondaryColor String?  // HEX код вторичного цвета
  formationYear  Int?     // Год формирования фракции
  dissolutionYear Int?    // Год роспуска фракции (null если существует)
  description    String?  @db.Text
  logoUrl        String?  // Путь к логотипу/гербу
  bannerUrl      String?  // Путь к баннеру фракции
  isMajor        Boolean  @default(false) // Флаг для основных фракций
  isActive       Boolean  @default(true)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  // Связь с таблицей доступности мехов (будет добавлена позже)
  // mechAvailability MechAvailability[]

  @@map("factions")
}